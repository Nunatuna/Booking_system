import{r as i,j as e,Q as m,g,c as h}from"./index-DOvz6QZO.js";import{u as j}from"./useRouteContext-BNo458qs.js";import{S as y,N as b}from"./Spinner-PxLEa2Gu.js";import{C as S}from"./CancelBookingBtn-Dvx6daCR.js";import{T as R}from"./Title-DarpHkjj.js";import{T as x}from"./Text-08wlWxmx.js";import{N as C}from"./NavBar-DJRGbRmp.js";/* empty css                */import"./index-oX5gIw6O.js";const E={display:"flex",justifyContent:"center",marginTop:"200px"},k={display:"flex",flexDirection:"column",padding:"40px",maxWidth:"800px",margin:"0 auto",backgroundColor:"#ffffff",border:"1px solid #e3e3e3",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},v={justifyContent:"center",backgroundColor:"#DBE4FF",borderRadius:"20px",padding:"20px",gap:"15px"},w={flex:"100%",padding:"0.8rem 1.5rem",border:"1px solid #364FC7",borderRadius:"2rem",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},B=()=>{const[r,a]=i.useState([]),[p,n]=i.useState(!0);i.useEffect(()=>{async function o(){n(!0);const t=g(),{data:{user:s},error:c}=await t.auth.getUser();if(c){console.error("Error getting user:",c),n(!1);return}if(s){const{data:f,error:l}=await t.from("MeetingRooms").select("id, Room_name, Start_time, End_time").ilike("User",s.email);l?console.error("Error fetching meeting rooms:",l):a(f)}else console.error("No user logged in.");n(!1)}o()},[]);const u=o=>{a(t=>t.filter(s=>s.id!==o))};if(p)return e.jsxs("div",{style:E,children:[e.jsx(y,{})," "]});const d=o=>new Date(o).toLocaleString("en-US",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1});return e.jsxs("div",{style:k,children:[e.jsx(R,{c:"#364FC7",order:1,style:{marginBottom:"2rem"},children:"My Bookings"}),e.jsx("div",{style:v,children:r.length>0?e.jsx(m,{justify:"space-between",gap:"xs",children:r.map(o=>e.jsxs(m,{style:w,children:[e.jsxs("div",{children:[e.jsx(x,{c:"#364FC7",fw:500,size:"md",children:o.Room_name}),e.jsxs(x,{fw:400,size:"md",children:[d(o.Start_time)," - ",d(o.End_time)]})]}),e.jsx(S,{roomId:o.id,onCancel:u})]},o.id))}):e.jsxs("div",{children:[e.jsx("p",{children:"You donâ€™t have any bookings yet."}),e.jsx(b,{})]})})]})},G=h("/")({component:F});function F(){const r=j({from:"/"});return console.log(r),e.jsxs(e.Fragment,{children:[e.jsx(C,{}),e.jsx(B,{})]})}export{G as Route};
